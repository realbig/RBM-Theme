@mixin light-or-dark-text( $color ) {

	@if lightness( $color ) < 50% {

		color: $light-color;

	}
	@else {

		color: $dark-color;

	}

}

// Foundation's Light/Dark check makes the buttons hard to read sometimes
@mixin foundation-button-fix( $button-color ) {

	@include light-or-dark-text( $button-color );

	&:hover, &:focus {

		$hover-background: scale-color( $button-color, $lightness: $button-background-hover-lightness );
		@include light-or-dark-text( $hover-background );

	}

}

// Convert Hex to RGBA
@mixin background-opacity( $color, $opacity: 0.3 ) {
	background: $color; /* The fallback for ancient things */
	background: rgba( $color, $opacity );
}

@mixin clearfix {
	&:after {
		content: ' ';
		display: table;
		clear: both;
	}
}

@mixin create-gradient( $direction, $start, $stop ) {

	// No Switch Statement in SCSS? Blah
	@if $direction == 'vertical' {
		$direction: 0;
	}
	@else if $direction == 'diagonal-up' {
		$direction: 45;
	}
	@else if $direction == 'diagonal-down' {
		$direction: -45;
	}
	@else {
		$direction: 90;
	}

	/* Fallback for ancient things */
	background: #{$start};

	/* FF3.6-15 */
	background: -moz-linear-gradient( $direction + deg, #{$start} 0%, #{$stop} 100% );

	/* Chrome10-25,Safari5.1-6 */
	background: -webkit-linear-gradient( $direction + deg, #{$start} 0%, #{$stop} 100% );

	/* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
	@if $direction == -45 {
		background: linear-gradient( 180 + $direction + deg, #{$start} 0%, #{$stop} 100%);
	}
	@else if $direction == 45 {
		background: linear-gradient( $direction + deg, #{$start} 0%, #{$stop} 100%);
	}
	@else {
		background: linear-gradient( 180 - $direction + deg, #{$start} 0%, #{$stop} 100%);
	}

	/* IE6-9 */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#{$start}', endColorstr='#{$stop}',GradientType=1 );

}

// Cross-browser, scaling Text-Stroke
@mixin text-stroke( $color ) {

	text-shadow:
		-0.02em -0.02em 0 $color,  
		0.02em -0.02em 0 $color,
		-0.02em 0.02em 0 $color,
		0.02em 0.02em 0 $color;
	//-webkit-text-stroke: 0.025em $color;
	// text-shadow is supported by IE 11, but doesn't work the best with this typeface

}

@mixin link-hover-style( $border-color: $topbar-link-color ) {

	position: relative;

	&:before, &:after {
		content: '';
		position: absolute;
		border-top: 0.1em solid;
		border-color: $border-color;
		height: 0;
		left: 0;
		right: 0;
		opacity: 0;
		transition: opacity 300ms, top 300ms, bottom 300ms;
	}

	&:before {
		top: 0.25em;
	}

	&:after {
		bottom: 0.25em;
	}

	&:hover {

		&:before, &:after {
			opacity: 1;
		}

		&:before {
			top: -0.05em;
		}

		&:after {
			bottom: -0.05em;
		}

	}

}

@mixin background-slide-in( $background: $secondary-color, $direction: 'right' ) {

	position: relative;
	background: transparent;
	overflow: hidden;

	border-color: $dark-color;
	border-width: 2px;
	color: $dark-color;

	transition: border-color 300ms;
	transition: color 300ms;
	
	text-shadow: 1px 1px 0 $light-color;

	.button-text {
		color: $dark-color;
		z-index: 1;
		position: relative;
	}

	&:before {

		content: '';
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
		#{$direction}: 100%;
		background: $background;
		transition: #{$direction} 300ms;
		z-index: 0;

	}

	&:hover {

		border-color: $background !important;
		
		@if lightness( $background ) < 50% {
			text-shadow: 1px 1px 0 $dark-color;
		}
		@else {
			text-shadow: 1px 1px 0 $light-color;
		}

		.button-text {
			@include light-or-dark-text( $background );
		}

		&:before {

			#{$direction}: 0;

		}

	}

}